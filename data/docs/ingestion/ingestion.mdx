---
date: 2024-07-03
title: Ingestion
id: ingestion
---

SigNoz is designed with an OpenTelemetry-first approach, natively supporting the <a href = "https://github.com/open-telemetry/opentelemetry-proto/blob/main/docs/specification.md" rel="noopener noreferrer nofollow" target="_blank" >Opentelemetry Protocol</a>.In addition to OpenTelemetry compatibility, SigNoz also provides custom in-house endpoints for enhanced functionality and flexibility.

## Get Started

* If you haven't already done so, sign up for a [Signoz Cloud account](https://signoz.io/teams/).
* After logging into your SigNoz Cloud account, create an ingestion key. This key is essential for configuring authentication to report telemetry to SigNoz Cloud.

## Endpoint

Based on your Signoz Cloud environment, you must configure your applications to use the relevant endpoint and port from the table below.

| Region | Endpoint | Port |
|:------:|:---------|:----:|
| US | ```https://ingest.us.signoz.cloud``` | 443 |
| IN | ```https://ingest.in.signoz.cloud``` | 443 |
| EU | ```https://ingest.eu.signoz.cloud``` | 443 |

This documentation will refer to the Signoz Endpoint as ```https://ingest.<region>.signoz.cloud:443```. Refer to the above table to get your exact endpoint.


Deprecated:
| Region | Endpoint | Port |
|:------:|:---------|:----:|
| US | ```https://ingest.signoz.io``` | 443,4317,4318,8081,8082 |
| IN | ```https://ingest-in.signoz.io``` | 443,4317,4318,8081,8082 |
| EU | ```https://ingest-eu.signoz.io``` | 443,4317,4318,8081,8082 |

#### For SDKs:
Configuration typically involves setting the `OTEL_EXPORTER_OTLP_ENDPOINT` environment variable. Refer to the SigNoz [instrumentation docs](https://signoz.io/docs/instrumentation/) for language-specific details.

#### For Collector:
When using the OpenTelemetry Collector, configure the[opentelemetry exporter](https://opentelemetry.io/docs/specs/otel/protocol/exporter/) in your collector configuration file to point to the appropriate SigNoz endpoint.

If you are using the signal agnostic environment variable (`OTEL_EXPORTER_OTLP_ENDPOINT`), you can simply set `OTEL_EXPORTER_OTLP_ENDPOINT=https://ingest.<region>.signoz.cloud:443` and the exporter should append the appropriate path for the signal type (such as v1/traces or v1/metrics). Similarly, if you are using OTLP/GRPC, setting the variable `OTEL_EXPORTER_OTLP_ENDPOINT=https://ingest.<region>.signoz.cloud:443` (replace with your endpoint from the above table).

Most documentation of Opentelemtry will mention the OTLP/HTTP port as 4318 and OTLP/GRPC port as 4317. The important thing to remember is that Signoz uses a single port (443) for both HTTP and gRPC and for any other custom ingestion endpoint.

## Authentication Methods

Note: Replace `<key>` with your ingestion key in the examples listed in this section.

All signoz endpoints are protected by header based key authentication. An ingestion key must be configured in all exporters (and for any custom ingestion endpoints) in order to successfully ingest data.

1. **Recommended:** Using the `signoz-access-token` header with the value set to your ingestion key. 
```
signoz-access-token: <key>
```

2. Using basic authentication with the value set to your ingestion key. This will most likely be used to interact with custom ingestion endpoints created by Signoz.
```
Authorization: Basic PGtleT4K
```

3. Deprecated: Using the `signoz-access-token` header with the value set `Bearer <key>` to your ingestion key. 
```
signoz-access-token: Bearer <key>
```

4. Deprecated: Using the `signoz-access-token` header for basic authentication. 
```
signoz-access-token: <key>
```

5. Deprecated: Using the `authorization` header with the value set `Bearer <key>` to your ingestion key. 
```
Authorization: Bearer <key>
```

#### For SDKs:
The mechanism to configure headers will vary, but OpenTelemetry language SDKs generally support setting the `OTEL_EXPORTER_OTLP_HEADERS=signoz-access-token=<key>` environment variable. Refer to the SigNoz [instrumentation docs](https://signoz.io/docs/instrumentation/) for language-specific details.

#### For Collectors:
```yaml
exporters:
  otlp:
    headers:
      signoz-access-token: <key>

  ...
  otlphttp:
    headers:
      signoz-access-token: <key>
```

## Batching, Timeout, Retries and other Relevant Settings

* In order to send data to Signoz, your payloads must be smaller than the 16MB maximum payload size. Larger payloads will be rejected with an error status code. Larger payloads may also fail to export with a timeout before an error status code is returned.
* CORS is already enabled on all signoz endpoints if you want to send telemetry from your frontend applications.
* Pay close attention to exporter timeout settings. Export requests generally take longer when:
    - Payloads are larger
    - Networks are slower (higher latency, lower bandwidth)
If your application produces large payloads due to high telemetry volume or long export intervals, you may need to increase the default timeout settings to avoid export errors.
* Enable compression while sending OTLP data. Signoz supports gzip compression on all OTLP endpoints. Note this compression does not apply to any custom endpoints implemented by Signoz.
* Implement retry mechanisms to handle transient errors and reduce data loss.

#### For SDKs:

##### Batching
OpenTelemetry SDKs generally support setting the following environment variables (see [OpenTelemetry docs](https://opentelemetry.io/docs/specs/otel/configuration/sdk-environment-variables/) for more info):

- `OTEL_BSP_*` for spans
- `OTEL_METRIC_EXPORT_*` for metrics
- `OTEL_BLRP_*` for logs

##### Timeout
Increase the default timeout settings using the `OTEL_EXPORTER_OTLP_TIMEOUT` environment variable. The value should be set in milliseconds.

Example:
`OTEL_EXPORTER_OTLP_TIMEOUT=30000`. This sets the timeout to 30 seconds.

##### Compression
Configure compression using the `OTEL_EXPORTER_OTLP_COMPRESSION=gzip` environment variable (or `zstd` if supported).

##### Retries
- Configuration methods vary by language and SDK
- Some SDKs support environment variables (e.g., Java: `OTEL_EXPERIMENTAL_EXPORTER_OTLP_RETRY_ENABLED=true`)
- Programmatic configuration may be necessary in some cases
- Refer to your specific SDK's documentation for detailed retry configuration options

#### For Collector:
If you are using the otlp/grpc protocol, use the following [exporter configuration](https://github.com/open-telemetry/opentelemetry-collector/blob/main/exporter/otlpexporter/README.md):
```yaml
exporters:
  otlp:
    endpoint: "https://ingest.<region>.signoz.cloud:443"
    timeout: 5s
    compression: gzip
    retry_on_failure:
      enabled: true
      initial_interval: 5s
      max_interval: 30s
      max_elapsed_time: 300s
    sending_queue:
      enabled: true
      num_consumers: 10
      queue_size: 1000
```

If you are using the otlp/http protocol, use the following [exporter configuration](https://github.com/open-telemetry/opentelemetry-collector/blob/main/exporter/otlphttpexporter/README.md) 
```yaml
exporters:
  otlphttp:
    endpoint: "https://ingest.<region>.signoz.cloud:443"
    timeout: 5s
    compression: gzip
    encoding: proto
    retry_on_failure:
      enabled: true
      initial_interval: 5s
      max_interval: 30s
      max_elapsed_time: 300s
    sending_queue:
      enabled: true
      num_consumers: 10
      queue_size: 1000
      timeout: 5s
```
